# Github Action

### üí° Description longue de l'exercice

## üìù Tes notes

Detaille ce que tu as appris ici,¬†sur¬†une¬†page¬†[Notion](https://go.mikecodeur.com/course-notes-template)

## Comprendre

"GitHub Actions est une solution d'int√©gration et de d√©ploiement continu (CI/CD) directement int√©gr√©e √† GitHub. Elle te permet d'automatiser des workflows comme les tests, les d√©ploiements, ou les analyses de code √† chaque push ou pull request. Simple √† configurer gr√¢ce √† des fichiers YAML, GitHub Actions offre une grande flexibilit√© pour personnaliser tes pipelines. Dans ce module, tu apprendras √† cr√©er et optimiser des workflows pour gagner en productivit√© et fiabilit√©.‚Äù

"Le dossier `.github` est le c≈ìur de la configuration des **GitHub Actions** dans un projet. Il contient le r√©pertoire `workflows`, o√π sont d√©finis les pipelines d'automatisation comme les tests, les builds ou les d√©ploiements. Dans ce module, apprends √† utiliser ce dossier pour cr√©er et personnaliser des workflows adapt√©s √† tes besoins."

Exemple de github action qui permet de :

- lancer les tests
- builder
- executer les migration drizzle

```yaml
name: Vercel Preview Deployment

on:
  push:
    branches:
      - dev
  pull_request:
    branches:
      - dev

jobs:
  Test-and-Deploy-Preview:
    runs-on: ubuntu-latest
    environment: preview

    steps:
      - uses: actions/checkout@v3

      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '20'

      - name: Install pnpm
        run: npm install -g pnpm

      - name: Install Dependencies
        run: pnpm install --frozen-lockfile

      - name: Lint Check
        run: pnpm lint
        env:
          NEXT_PUBLIC_SUPABASE_URL: ${{ secrets.NEXT_PUBLIC_SUPABASE_URL }}
          NEXT_PUBLIC_SUPABASE_ANON_KEY: ${{ secrets.NEXT_PUBLIC_SUPABASE_ANON_KEY }}

      - name: Run Tests
        run: pnpm test
        env:
          RESEND_API_KEY: ${{ secrets.RESEND_API_KEY }}
          DATABASE_URL: ${{ secrets.DATABASE_URL }}

      - name: Build Project
        run: pnpm build
        env:
        env:
          RESEND_API_KEY: ${{ secrets.RESEND_API_KEY }}
          DATABASE_URL: ${{ secrets.DATABASE_URL }}

      # Installer Drizzle CLI
      - name: Install Drizzle CLI
        run: npm install -g drizzle-kit

      # Ex√©cuter les migrations Drizzle
      - name: Run Drizzle migrations
        working-directory: packages/persistence
        run: pnpm db:migrate
        env:
          RESEND_API_KEY: ${{ secrets.RESEND_API_KEY }}
          DATABASE_URL: ${{ secrets.DATABASE_URL }}

```

üìë Le liens vers la doc https://github.com/features/actions

## Exercice

Adaptes les actions au besoins de ton projet

Fichiers

- .`github/workflows/preview.yaml`

##

## Ils vont t‚Äôaider

- **üê∂ Mowgli le Chien** : _Mowgli te guidera dans chaque exercice._
- **ü§ñ Ash le Robot** : _Ash le Robot te donnera du code utile._
- **üöÄ Julia La roquette** : _Julia te donnera des d√©fis suppl√©mentaires._
- **‚õèÔ∏è Hulk le Marteau** : _Quand du code √† supprimer est pr√©sent_
- **üë®‚Äç‚úàÔ∏è Hugo le chef de projet** : _Va t'aider sur les sp√©cifications du projet_

## üêú Feedback

Remplir le formulaire le [formulaire de FeedBack](https://go.mikecodeur.com/cours-react-avis).
